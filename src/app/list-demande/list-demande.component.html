<app-header></app-header>
<app-side-bar></app-side-bar>
<div class="main-container">
  <div class="pd-ltr-20 xs-pd-20-10">
    <div class="min-height-200px">
      <div class="page-header">
        <div class="row">
          <div class="col-md-6 col-sm-12">
            <div class="title">
              <h4>Liste des Demandes</h4>
            </div>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Formation</a></li>
                <li class="breadcrumb-item active" aria-current="page">Liste des Demandes</li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
      <div class="pd-20 card-box mb-30">
        <div class="clearfix mb-20">
          <div class="pull-left">
            <h4 class="text-blue h4">Liste des Demandes</h4>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Fonction</th>
                <th>Lieu</th>
                <th>Date Demande</th>
                <th>CV</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let demande of demandes">
                <td>{{ demande.id }}</td>
                <td>{{ demande.participant?.nom }}</td>
                <td>{{ demande.participant?.fonction }}</td>
                <td>{{ demande.participant?.lieutravail }}</td>
                <td>{{ demande.dateDemande | date: 'short' }}</td>
                <td><a (click)="downloadFile(demande.participant.cvFileName)"><img src="../../assets/images/images.png"
                  alt="" style="width: 40px;"></a></td>

            
                <td>

                  <button class="btn-custom btn-custom-accepter" (click)="acceptDemande(demande.id)">Accepter</button>
                  <button class="btn-custom btn-custom-refuser" (click)="refuserDemande(demande.id)">Refuser</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
